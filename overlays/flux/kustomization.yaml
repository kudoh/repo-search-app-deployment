# Kustomize v2.1からはbasesはresourcesに統合(deprecatedになった)
bases:
- ../../base
# 適用するリソース
patchesStrategicMerge: []
resources:
- ingress.yaml
namespace: dev
namePrefix: flux-
# Secretリソース
# secretGenerator:
# - name: github-secret
#   files:
#   - user=.env/github-user
#   - password=.env/github-pass
# - name: redis-secret
#   files:
#   - password=.env/redis-pass
# ConfigMapリソース
configMapGenerator:
- name: api-gateway-config
  literals:
  - serviceURL=http://flux-github-service.default.svc.cluster.local/github
  - redisHost=redis-master.redis.svc.cluster.local
  - redisPort=6379
# コンテナイメージ
images:
- name: api-gateway
  newName: kudohn/api-gateway
  newTag: v1.2
- name: github-service
  newName: kudohn/github-service
  newTag: v1.2
- name: repo-search-ui
  newName: kudohn/repo-search-ui
  newTag: v1.2